{% extends "base.html" %}

{% block content %}

<div class="container">
	<div class="row justify-content-center">
		<div class="col-md-8">
			<div class="card">
				<h6 class="card-header text-secondary">Регистрация</h6>
				<div class="card-body">
					<div class = "row">
						<div class="col">
							{% set errorsList = form.email.errors + form.password.errors + form.password2.errors %}
							{% if errorsList|length > 0 %}
								<div class="alert alert-danger" role="alert">
									{% for error in  errorsList %}
										{{ error }}<br>
									{% endfor %}
								</div>
							{% endif %}
						</div>
					</div>
					<form method="post">
						{{ form.csrf_token }}
						<div class="form-group row">
							{{ form.email.label (class_ = "col-md-4 col-form-label text-md-right") }}
							<div class="col-md-6">
								{{ form.email(class_ = 'form-control', autofocus = '') }}
							</div>
						</div>
						<div class="form-group row">
							{{ form.password.label (class_ = "col-md-4 col-form-label text-md-right") }} 
							<div class="col-md-6">
								{{ form.password(class_ = 'form-control') }}
							</div>
						</div>
						<div class="form-group row">
							{{ form.password2.label (class_ = "col-md-4 col-form-label text-md-right") }} 
							<div class="col-md-6">
								{{ form.password2(class_ = 'form-control') }}
							</div>
						</div>
						<div class="form-group row">
							<div class="col-md-6 offset-md-4">
								{{ form.submit(class_ = 'btn btn-primary') }}
								{% if current_user.is_anonymous %}
									<a href="{{ url_for('auth.PerformLogin') }}" class="btn btn-link">
										Авторизация
									</a>
								{% endif %}
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
{% endblock %}